@startuml
'https://plantuml.com/class-diagram

package "IDMP Datamodel" as idmpDatamodel <<frame>> {
    entity RouteOfAdministration {
        name
    }

    entity UnitOfPresentation {
        name
    }

    together {
        entity DoseForm {
            name
        }

        entity Strength {
            numeratorValue
            denominatorValue
            numeratorUnit
            denominatorUnit
            referenceSubstance
        }

        entity Substance {
            name
        }
    }

    entity PharmaceuticalProduct {
        phpId
        ingredientCode
    }

    entity MedicinalProduct {
        mpId
        fullName
        packSize
        packDescription
    }

    entity PackagedProduct {
        pcId
        atcCode
        packageSize
    }

    entity Organization {
        name
    }

    Substance "1" ----* "*" PharmaceuticalProduct : activeIngredient
    Substance "0..1" ----* "*" PharmaceuticalProduct : modifier
    DoseForm "1" o-- "*" PharmaceuticalProduct : doseForm
    Strength "1" -- "1" PharmaceuticalProduct : strength

    PharmaceuticalProduct "1" *-- "*" MedicinalProduct : pharmaceuticalProduct

    MedicinalProduct "1" *-- "*" PackagedProduct : medicinalProduct
    MedicinalProduct "*" --o "1" DoseForm : administrableDoseForm
    RouteOfAdministration "*" - "*" MedicinalProduct : routeOfAdministration
    UnitOfPresentation "1" -* "*" MedicinalProduct : unitOfPresentation

    MedicinalProduct "*" -o "1" Organization : marketingAuthorizationHolder

    RouteOfAdministration -[hidden]-> UnitOfPresentation
}
@enduml